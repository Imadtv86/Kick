name: YouTube Live Streaming

on:
  push:
    branches:
      - main

jobs:
  stream_to_youtube:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Set up FFmpeg
        run: sudo apt-get update && sudo apt-get install ffmpeg -y

      - name: Start Streaming to YouTube
        env:
          YOUTUBE_STREAM_KEY: 0zru-1w0v-j4q5-46ck-eg6m  # YouTube Stream Key
          M3U8_LINK: https://video-weaver.ams03.hls.live-video.net/v1/playlist/CsQF33IHj0llBNonirfcF7132YPIvTbJULYRu661Bu5bU8mlohEvGAbVnoPnKEebX0BzlstCiSpp0Fx1Y9sVyIkPsgxlXEcAKTdn0ja0w90T5UX9ubRbRSlUlsL10WBaHo0HHf4SDncPRauPkJ_OJPQmxAOPbQ9BCjI5RvEmy2MAqP1kbHBi5wil4hw3ygiJOWYsdkFP2bh1Rg3UFudPe0T7JnWrtJQSjli8A7bM7VszZEj6X-nj34234Nwkn5nTFIkUA39j7rz8naAoYBu1Pt1bgF2QFtwj86txEh-fuu52oD0-ZL0r923rAfMO5qs0lh-TiQBCFK3vOvEe3NsEDo7UGXk3uUw0V000HFPzVTlnw79uzwSgp4w4uS15sfBfU26Ww0dWsO4M0gKw7sVwz_5OzNCXLc3vbVUE5Oiy1ceJ_WUXGyaXpeGC1subgkn0lf37R6s5peSEBrPoXVOXG5c3dw77E8WKREQMQDNUtWJfZTf9hIJIQ4wZc0c1q0myEalnyVXsGIeWuqBBksaGFDvrRWeBy8qT1xwQkxzUMZyZjNQBGiw2GGWmz4PXsaqRmLWEJKW0ez0yqekHID_LxqOVagur6eSlXGEP9YsrNThj5diTdCNC2UPzAOwUlyKQMg3PaUsgbZsqBAosrZskPFogZg4yUQ8E4gWfHAHYTY5qwjPaIlRK0SlNvLdzn2-kXXFHOmOmf9PEUDXFE88BGSiIayw6rLp5OMIuQmowWGw55WrtaazHDY9E6nTbOviE0FS7ApN9p7xyXJe7MUxDCI9CHuxT69_zkeRkk27pjZDCNSOT3JbkwOGCSWbT6cSjf4dZMgP1QCHpGG6OM4f4P71sCtgxpUtu_tzfDPbL-eEDYGgiCtY4HF5wlRa8K-zg6FBY_zVpSsuu3Muo6FMJDqFX1qOuwCPZ5yl-jG98vw_Y4bMTvDz3GgzaOYf77MoQJhmXvnEgASoJZXUtd2VzdC0yMKQL.m3u8  # M3U8 Link
        run: |
          ffmpeg -i $M3U8_LINK -f flv rtmp://a.rtmp.youtube.com/live2/$YOUTUBE_STREAM_KEY
